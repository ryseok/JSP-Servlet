<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
          "http://struts.apache.org/dtds/struts-config_1_3.dtd">

<struts-config>
<!-- ================================================ Form Bean Definitions -->
<!--
 
         <form-beans>
            <form-bean type="액션폼클래스등록"
                       name="폼클래스에 대한 식별 이름정의. 예)joinForm"/>
         </form-beans>
         
         <action-mappings>
            <action type="액션클래스등록"
                    path="가상경로(.do매핑)"
                    name="joinForm"/>
         </action-mappings>
         
     
-->
	<form-beans>
		<!--사용자가 정의한 ActionForm 클래스 등록 -->
		<!--TestActionForm 등록 -->
		<form-bean name="testForm" type="com.encore.s0723.forms.TestActionForm"/>
		<form-bean name="loginForm" type="com.encore.s0723.forms.LoginActionForm"/>
		<form-bean name="calcForm" type="com.encore.s0724.forms.CalcActionForm"/>
		
		
	</form-beans>
	

<!-- ========================================= Global Exception Definitions -->

    <global-exceptions>
        <!-- sample exception handler
        <exception
            key="expired.password"
            type="app.ExpiredPasswordException"
            path="/changePassword.jsp"/>
        end sample -->
    </global-exceptions>


<!-- =========================================== Global Forward Definitions -->

    <global-forwards>
        <!-- Default forward to "Welcome" action -->
        <!-- Demonstrates using index.jsp to forward -->
        <forward
            name="welcome"
            path="/Welcome.do"/>
    </global-forwards>


<!-- =========================================== Action Mapping Definitions -->

    <action-mappings>
            <!-- Default "Welcome" action -->
            <!-- Forwards to Welcome.jsp -->
            
            <!--
            	액션태그 각각은 URL요청을 의미
            	path속성 : 가상경로를 의미, 주의 : 맨앞에 반드시 "/"위치
            	예) path="/a/b/c" : struts/a/b/c.do 요청 액션
            	
            	forward속성 : 위 요청 액션에 대해 실제 이동할 경로
            -->
            
            <!--단순 JSP 포워딩(Model 호출없이 뷰 보이기)-->
            <action path="/playdata" forward="/0720/hello.jsp"></action>
            <action path="/login" forward="/0720/login_form.jsp"></action>
            
            
            
            <!--Action 클래스를 거친 JSP 페이지 이동-->
            <action path="/0722/action" type="com.encore.s0720.actions.MyAction">
            	<!--액션 실행후 이동할 페이지 나열 : <forward> 태그 통해-->
            	<forward name="success" path="/0720/success.jsp"></forward>
            	<forward name="fail" path="/0720/fail.jsp"></forward>
            	<forward name="hello" path="/0720/hello.jsp"></forward>
            </action>
            
            <action path="/0723/action" type="com.encore.s0720.actions.LoginAction">
            	<!--액션 실행후 이동할 페이지 나열 : <forward> 태그 통해-->
            	<forward name="success" path="/0720/success.jsp"></forward>
            	<forward name="fail" path="/0720/fail.jsp"></forward>
            </action>
            
            
            <!--로그인 폼 보이기-->
            <action path="/0723/form" forward="/0723/login_form.jsp"></action>
            
            <!--로그인 처리-->
            <action path="/0723/login" type="com.encore.s0723.actions.LoginAction">
            	<forward name="success" path="/0723/success.jsp" redirect="true"/>
            	<forward name="fail" path="/0723/fail.jsp"></forward>
            </action>
            
            <!--테스트 액션 등록-->
            <!--<form-beans>태그에서 등록한 것이 먼저 실행 : name="testForm"-->
            <!--<action>의 속성 input : 만약 ActionForm거쳐서 에러가 발생 한다면 이동할 경로를 정의-->
            <action path="/rys" type="com.encore.s0723.actions.TestAction" name="testForm" input="/0723/fail.jsp">
            </action>
            
            <!--유효성 검사하는 로그인 처리-->
            <action path="/0723/form2" forward="/0723/login_form2.jsp"></action>
            <action path="/0723/login2" 
            		type="com.encore.s0723.actions.LoginAction2" 
            		name="loginForm" 
            		input="/0723/login_form2.jsp"
            		validate="true"
            		scope="request">
            	<forward name="loginForm2" path="/0723/form2.do" redirect="true"></forward>
            </action>
	
	
	
	
	
		<!--계산기 폼만 보이기-->
		<action path="/0724/calcForm" forward="/0724/calc.jsp"/>
		
		<!--계산기 유효성 검사-->
		<action path="/0724/calc"
				type="com.encore.s0724.actions.CalcAction"
				name="calcForm"
				input="/0724/calc.jsp">
			<forward name="form" path="/0724/calc.jsp"/>
		</action>






	<!--게스트 유효성 검사_0724 -->
	<action path="/guest"
		type="com.encore.guest.actions.GuestAction">
		<forward name="form" path="/guest/inputForm.jsp" />
		<forward name="list" path="/guest/list.jsp" />
		<forward name="insert" path="/guest.do?action=list"
			redirect="true" />
	</action>


	<!-- 방명록 관련 Action(수정폼) -->
	<action path="/guest/upform"
		type="com.encore.guest.actions.GuestUpdateFormAction">
		<forward name="upform" path="/guest/editForm.jsp" />
	</action>
	<!-- 방명록 관련 Action(수정처리) -->
	<action path="/guest/update"
		type="com.encore.guest.actions.GuestUpdateAction">
		<forward name="list" path="/guest.do?action=list"
			redirect="true" />
	</action>
	<!-- 방명록 관련 Action(삭제처리) -->
	<action path="/guest/delete"
		type="com.encore.guest.actions.GuestDeleteAction">
		<forward name="list" path="/guest.do?action=list"
			redirect="true" />
	</action>
	<!-- 방명록 관련 뷰 (pass_check.jsp) -->
	<action path="/guest/passCheck" forward="/guest/pass_check.jsp" />
		
	<!--타일즈 액션 정의 -->
	<action path="/tiles/main"
			forward=".main"/>	
	<action path="/tiles/form"
			forward=".form"/>	
	<action path="/tiles/login"
			forward=".login"/>

	<!-- ajax가 필요로 하는 데이터 요청 처리 -->
	<action path="/0727/response8"
			type="com.encore.s0727.actions.EmpAction">
		<forward name="response8" path="/0727/response8.jsp" />
	</action>	
		
		
		
		
		<!--로그인 성공 또는 실패-->
		<action path="/0724/review"
				input="/review/login_form.jsp"
				type="reivew.Action_review"
				name="reviewForm">
		<forward name="fail" path="/review/fail.jsp"></forward>		
		<forward name="success" path="/review/success.jsp"></forward>		
		</action>
	
	<!--0802 수업  -->
	<!--댓글 컨트롤러(/struts/reply.do 요청)-->
	<action path="/reply"
			type="com.encore.s0802.actions.ReplyAction">
			
			<!--  (Action-execute()메소드 실행후 결과 화면에 대한)경로 등록  -->
			<forward name="list" path="/0802/reply_list.jsp"></forward>
			<forward name="result" path="/0802/reply_result.jsp"></forward>
	</action>
    </action-mappings>
    
	<controller processorClass="com.encore.control.MyRequestProcessor"></controller>
	
	
<!-- ======================================== Message Resources Definitions -->

    <!-- <message-resources parameter="MessageResources" /> -->
	<message-resources parameter="resources.application"></message-resources>

<!-- =============================================== Plug Ins Configuration -->

<!-- ======================================================= Tiles plugin -->
 


<!-- =================================================== Validator plugin -->

	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config" value="/WEB-INF/config/tiles-defs.xml"/>
		<set-property property="definitions-debug" value="2"/>
		<set-property property="definitions-parser-details" value="2"/>
		<set-property property="definitions-parser-validate" value="true"/>
	</plug-in>


  <plug-in className="org.apache.struts.validator.ValidatorPlugIn">
    <set-property
        property="pathnames"
        value="/org/apache/struts/validator/validator-rules.xml,
               /WEB-INF/validation.xml"/>
  </plug-in>

</struts-config>

