<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd" >
<!-- emp.xml -->
<sqlMap namespace="emp">
  <select id="selectNames" resultClass="String">
      select ename from emp
  </select>
   <!-- Emp e = new Emp();
       e.setEname("홍길동");
      또는
   Emp e2 = new Emp(8000,"길라임","2018-07-27");    
       
  smc.queryForList("emp.selectInfo", e 또는 e2); -->
  <select id="selectInfo" 
          resultClass="com.encore.s0727.vo.Emp"
          parameterClass="int">
     select empno,ename,hiredate
     from emp
     where deptno=#deptno#
  </select>
<!--부서번호 중 최소값-->
<select id="selectMinDeptno" resultClass="int"> select min(deptno) from dept </select>

<!--부서번호 존내 유무-->
<select id="selectExistDeptno" parameterClass="int" resultClass="int">
	select count(*) from dept
	where deptno=#deptno#
</select>

<select id="selectKeyword" resultClass="String" parameterClass="String">
select ename from emp where upper(ename) like upper(#ename#)
</select>

<select id="selectEmpInfo" parameterClass="String" resultClass="com.encore.s0730.vo.Emp">
     select empno,ename,to_char(hiredate,'yyyy"년 "mm"월 "dd"일"') hiredate,dname
     from emp natural join dept
     where ename=#ename#
</select>

<select id="info" parameterClass="java.util.Map" resultClass="com.encore.s0731.vo.EmpInfo">
select empno,ename,hiredate,dname,job from emp natural join dept
<isNotNull property="ename">where ename like #ename#</isNotNull>
 <!--  Map에 'ename'키가 존재한다면  -->
<isNotNull property="dname">where dname like #dname#</isNotNull>
<isNotNull property="job">where job like #job#</isNotNull>
</select>
 <!--
   
  <select id="info1" parameterClass="String"
                resultClass="com.encore.s0731.vo.EmpInfo">
     select empno,ename,hiredate,dname,job
     from emp  natural join dept
     where ename like #ename#
  </select>
  
  <select id="info2" parameterClass="String"
                resultClass="com.encore.s0731.vo.EmpInfo">
     select empno,ename,hiredate,dname,job
     from emp  natural join dept
     where dname like #dname#
  </select>
  
  <select id="info3" parameterClass="String"
                resultClass="com.encore.s0731.vo.EmpInfo">
     select empno,ename,hiredate,dname,job
     from emp  natural join dept
     where job like #job#
  </select>
  
-->

</sqlMap>








